(this["webpackJsonpreact-todo"]=this["webpackJsonpreact-todo"]||[]).push([[0],{68:function(e,t,n){},77:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(4),i=n(0),c=n(11),o=n.n(c),r=(n(68),n(69),n(87)),s=n(9),d=n(89),l=n(84),j=n(85),u="ADD_TODO",O="TOGGLE_COMPLETED",f="DELETE_TODO",b="UPDATE_TODO",h="FILTER_TODOS",m="SORT_TODOS",g=function(e){return{type:h,payload:e}},p=function(e,t,n){return{type:b,payload:{id:e,updatedName:t,isEditing:n}}},x=function(e){return{type:m,payload:{todos:e}}},y=(n(77),n(17)),S=n(88),v=function(e){var t=e.todo,n=Object(i.useState)(!1),c=Object(y.a)(n,2),o=c[0],r=c[1],d=Object(s.b)(),l=Object(i.useState)(t.name),j=Object(y.a)(l,2),u=j[0],O=j[1],f=function(e){u.length>0&&d(p(t.id,u,!1)),r(!1)};return Object(a.jsxs)(a.Fragment,{children:[!o&&Object(a.jsx)("span",{onClick:function(e){return function(e){e.stopPropagation(),t.finished||(r(!0),setTimeout((function(){document.getElementById(t.id).focus(),d(p(t.id,t.name,!0))})))}(e)},children:t.name}),o&&Object(a.jsx)("span",{children:Object(a.jsx)(S.a,{inline:!0,className:"ml-auto",onSubmit:function(e){return f()},children:Object(a.jsx)(S.a.Control,{type:"text",placeholder:"Update Name",size:"sm",id:t.id,className:"mr-sm-2 shadow-none",value:u,onChange:function(e){return function(e){O(e.target.value)}(e)},onClick:function(e){e.stopPropagation()},onBlur:function(e){f()}})})})]})},N=function(){var e=Object(s.c)((function(e){return e})).todos,t=Object(s.b)(),n=function(e,n){var a,i=n.finished;n.isEditing||t((a=n.id,{type:O,payload:{id:a,isCompleted:!i}}))},i=function(e){t(function(e){return{type:f,payload:{id:e}}}(e))};return Object(a.jsx)("div",{children:e.length>0&&Object(a.jsxs)(j.a,{bordered:!0,size:"md",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{className:"status-col",children:"#"}),Object(a.jsx)("th",{className:"name-col",children:"TO DO"}),Object(a.jsx)("th",{children:"Created Date"}),Object(a.jsx)("th",{className:"status-col",children:"Status"}),Object(a.jsx)("th",{children:"Action"})]})}),Object(a.jsx)("tbody",{children:e.filter((function(e){return!e.filtered})).map((function(e,t){return Object(a.jsxs)("tr",{onClick:function(t){return n(0,e)},className:"todo-row ".concat(e.finished?"strikeout":""),children:[Object(a.jsx)("td",{children:t+1}),Object(a.jsx)("td",{children:Object(a.jsx)(v,{todo:e})}),Object(a.jsx)("td",{children:new Date(e.createdAt).toLocaleString()}),Object(a.jsx)("td",{children:e.finished?Object(a.jsx)(d.a,{placement:"top",overlay:Object(a.jsxs)(l.a,{children:["Finished at ",new Date(e.finishedAt).toLocaleString()]}),children:Object(a.jsx)("i",{className:"far fa-check-circle",onClick:function(e){e.stopPropagation()}})}):Object(a.jsx)(d.a,{placement:"bottom",overlay:Object(a.jsx)(l.a,{children:Object(a.jsxs)("div",{className:"d-flex flex-column justify-content-center",children:["Edit History:",e.editHistory&&e.editHistory.length>0?e.editHistory.map((function(e){return Object(a.jsx)("span",{children:new Date(e).toLocaleString()},e)})):"None"]})}),children:Object(a.jsx)("i",{className:"far fa-times-circle",onClick:function(e){e.stopPropagation()}})})}),Object(a.jsx)("td",{children:Object(a.jsx)("i",{className:"fas fa-trash",onClick:function(t){t.stopPropagation(),i(e.id)}})})]},e.id)}))})]})})},D=n(46),T=n(90),C=n(59),I=function(){var e=Object(s.c)((function(e){return e})).todos,t=Object(i.useState)(""),n=Object(y.a)(t,2),c=n[0],o=n[1],r=Object(s.b)();return Object(a.jsx)("div",{children:Object(a.jsxs)(T.a,{bg:"light",expand:"lg",children:[Object(a.jsx)(T.a.Brand,{children:"TODO"}),Object(a.jsx)(T.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsx)(T.a.Collapse,{id:"basic-navbar-nav",children:e.length>0&&Object(a.jsx)(S.a,{inline:!0,className:"ml-auto",children:Object(a.jsx)(C.a,{type:"text",placeholder:"Search by name",className:"mr-sm-2",value:c,onChange:function(t){return function(t){var n=t.target.value,a=Object(D.a)(e);o(n),0===n.trim().length?(a.map((function(e){e.filtered=!1})),r(g(a))):(a.map((function(e){var t=e.name.toLowerCase();e.filtered=!t.includes(n)})),r(g(a)))}(t)}})})})]})})},w=n(86),E=n(62),A=function(){var e=Object(s.c)((function(e){return e})).todos,t=Object(i.useState)("Featured"),n=Object(y.a)(t,2),c=n[0],o=n[1],r=Object(i.useState)(""),d=Object(y.a)(r,2),l=d[0],j=d[1],O=Object(s.b)(),f=function(e){e.preventDefault(),l.length>0&&(O({type:u,payload:{name:l}}),j(""))},b=function(e){o(e);var t=JSON.parse(localStorage.getItem("todosInStorage")).todos;"Featured"===e&&O(x(t)),e.includes("Date")&&(t.sort((function(t,n){return"Date(Old To New)"===e?t.createdAt-n.createdAt:n.createdAt-t.createdAt})),O(x(t))),"Status"===e&&(t.sort((function(e,t){return e.finished<t.finished?-1:e.finished>t.finished?1:0})),O(x(t)))};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"d-flex justify-content-between mb-2",children:[Object(a.jsx)(S.a,{inline:!0,size:"sm",onSubmit:function(e){f(e)},children:Object(a.jsx)(S.a.Control,{type:"text",placeholder:"Add Todo",size:"sm",className:"mr-sm-2 shadow-none",value:l,onChange:function(e){j(e.target.value)},onBlur:function(e){f(e)}})}),e.length>0&&Object(a.jsxs)(w.a,{title:"Sort by: ".concat(c),size:"sm",variant:"secondary",children:[Object(a.jsx)(E.a.Item,{onClick:function(){b("Featured")},children:"Featured"}),Object(a.jsx)(E.a.Item,{onClick:function(){b("Date(New To Old)")},children:"Date(New To Old)"}),Object(a.jsx)(E.a.Item,{onClick:function(){b("Date(Old To New)")},children:"Date(Old To New)"}),Object(a.jsx)(E.a.Item,{onClick:function(){b("Status")},children:"Status"})]})]})})};var k=function(){return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(I,{}),Object(a.jsxs)(r.a,{className:"mt-5",children:[Object(a.jsx)(A,{}),Object(a.jsx)(N,{})]})]})},J=n(24),M=n(61),F=n(33),L=Object(J.combineReducers)({todos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:var n={id:Math.floor(1e5*Math.random()),name:t.payload.name,createdAt:(new Date).getTime(),finished:!1,filtered:!1,isEditing:!1},a=[].concat(Object(D.a)(e),[n]);return localStorage.setItem("todosInStorage",JSON.stringify({todos:a})),a;case O:var i=e.map((function(e){var n=t.payload,a=n.id,i=n.isCompleted;return e.id!==a?e:Object(F.a)(Object(F.a)({},e),{},{id:a,finished:i,finishedAt:i?(new Date).getTime():null})}));return localStorage.setItem("todosInStorage",JSON.stringify({todos:i})),i;case h:return t.payload;case b:var c=e.map((function(e){var n=t.payload,a=n.id,i=n.updatedName,c=n.isEditing;if(e.id!==a)return e;var o=Object(F.a)(Object(F.a)({},e),{},{name:i,isEditing:c});c||(o.editHistory?o.editHistory.unshift((new Date).getTime()):o.editHistory=[(new Date).getTime()]);return o}));return localStorage.setItem("todosInStorage",JSON.stringify({todos:c})),c;case m:return t.payload.todos;case f:var o=e.filter((function(e){return e.id!==t.payload.id}));return localStorage.setItem("todosInStorage",JSON.stringify({todos:o})),o;default:return e}}}),H={todos:[{id:Math.floor(1e5*Math.random()),name:"Study new things",createdAt:1606934271e3,finished:!1,filtered:!1,isEditing:!1},{id:Math.floor(1e5*Math.random()),name:"Cleaning bed room",createdAt:1601746671e3,finished:!0,filtered:!1,isEditing:!1,finishedAt:1601846671e3},{id:Math.floor(1e5*Math.random()),name:"Go to Costco",createdAt:1604428671e3,finished:!1,filtered:!1,isEditing:!1}]},P=Object(J.createStore)(L,function(){if(!localStorage.getItem("todosInStorage"))return localStorage.setItem("todosInStorage",JSON.stringify(H)),H;for(var e=JSON.parse(localStorage.getItem("todosInStorage")),t=e.todos,n=0;n<t.length;n++)t[n].filtered=!1;return e}(),Object(M.composeWithDevTools)());o.a.render(Object(a.jsx)(s.a,{store:P,children:Object(a.jsx)(k,{})}),document.getElementById("root"))}},[[79,1,2]]]);
//# sourceMappingURL=main.79da25e4.chunk.js.map